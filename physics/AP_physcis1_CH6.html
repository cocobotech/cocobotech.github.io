<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>COCOBO AP Physics 1 - Rotational Energy & Momentum</title>

<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

<style>
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&family=Noto+Sans+SC:wght@300;500;700&display=swap');
:root {
  --primary-color: #4f46e5;
  --secondary-color: #10b981;
  --bg-light: #f3f4f6;
  --text-dark: #1f2937;
}
body { font-family:'Inter','Noto Sans SC',sans-serif; background-color: var(--bg-light); color: var(--text-dark); line-height: 1.6; margin:0; padding:0; }
.container-app { max-width: 1200px; margin:10px auto; padding:10px; background-color:rgba(244, 244, 247, 0.863); border-radius:24px; box-shadow:0 10px 30px rgba(26, 122, 177, 0.384); }
.container-header { background: white; border-radius: 25px; padding: 10px; margin-bottom: 5px; box-shadow: 0 15px 10px rgba(0,0,0,0.3); text-align: center; position: relative; overflow: hidden; }
h1 { font-size: 2.5rem; color: var(--primary-color); font-weight:700; text-align:center; margin: 0; }
h2 { font-size:1.5rem; font-weight:600; color:var(--text-dark); border-left:5px solid var(--primary-color); padding-left:10px; margin-bottom:20px; }
.text2xl { color: var(--primary-color); font-weight:900; text-align:left; padding-bottom:10px; }

.concept-card { background:rgb(242, 247, 248); border-radius:16px; padding:20px; box-shadow:0 4px 15px rgba(5, 126, 207, 0.658); transition:transform 0.3s ease, box-shadow 0.3s ease; }
.concept-card_adv { background:rgb(221, 223, 223); border-radius:16px; padding:20px; box-shadow:0 4px 15px rgba(5, 126, 207, 0.658); transition:transform 0.3s ease, box-shadow 0.3s ease; }

.concept-card:hover { transform: translateY(-5px); box-shadow:0 8px 25px rgba(0,0,0,0.15); }
.formula { font-family:'Times New Roman', serif; font-size:1.2rem; font-weight:bold; color: var(--secondary-color); padding:10px 0; text-align:center; border-top:1px solid #e5e7eb; margin-top:15px; }
.grid-1 { display: grid; grid-template-columns: repeat(1,1fr); gap: 1rem; }
.grid-2 { display: grid; grid-template-columns: repeat(2,1fr); gap: 1rem; }
.grid-3 { display: grid; grid-template-columns: repeat(3,1fr); gap: 1rem; }
.my-8 { margin: 2rem 0; }
.mb-4 { margin-bottom: 1rem; }
.list-disc { list-style-type: disc; }
.list-inside { list-style-position: inside; }
.text-sm { font-size: 0.875rem; }
.text-gray-500 { color: #6b7280; }

.card {
    background: white;
    border-radius: 16px;
    padding: 1.5rem;
    box-shadow: 0 10px 30px rgba(0,0,0,0.1);
    transition: all 0.3s ease;
}

table {
    width: 100%;
    border-collapse: collapse;
    margin: 0.5rem 0;
    font-size: 0.95rem;
}

th, td {
    padding: 0.5rem;
    text-align: left;
    border-bottom: 1px solid #eee;
}

th {
    background: #f1f3f5;
    color: var(--text-dark);
    font-weight: 600;
}

canvas {
    border: 2px solid var(--primary-color);
    border-radius: 12px;
    display: block;
    margin: 20px auto;
    background: white;
}

.control-group {
    margin: 15px 0;
}

.control-group label {
    font-weight: 600;
    color: var(--text-dark);
    display: block;
    margin-bottom: 5px;
}

input[type="range"] {
    width: 100%;
    height: 6px;
    border-radius: 3px;
    background: #ddd;
    outline: none;
    -webkit-appearance: none;
}

input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 20px;
    height: 20px;
    border-radius: 50%;
    background: var(--primary-color);
    cursor: pointer;
}

.btn-reset {
    background: var(--primary-color);
    color: white;
    padding: 10px 20px;
    border-radius: 8px;
    border: none;
    font-weight: 600;
    cursor: pointer;
    transition: background 0.3s;
    margin: 5px;
}

.btn-reset:hover {
    background: #6366f1;
}

.legend {
    background: #f8f9fa;
    padding: 15px;
    border-radius: 10px;
    margin-top: 20px;
}

.legend h3 {
    margin-bottom: 10px;
    color: #333;
    font-size: 1.1rem;
}

.legend-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 10px;
    font-size: 14px;
}

.legend-item {
    display: flex;
    align-items: center;
}

.legend-color {
    width: 20px;
    height: 20px;
    margin-right: 10px;
    border-radius: 3px;
}

.info-display {
    background: #e8f5e9;
    border-radius: 8px;
    padding: 15px;
    margin: 10px 0;
    font-weight: 600;
}
</style>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css">
</head>

<body>
<div class="container-app">
    <div class="container-header">
        <h1>COCOBO-TECH AP Physics 1</h1>
        <p style="text-align: center;text-decoration: underline; font-weight: 600; color: #4f46e5;">
            Unit 6 â€“ Energy and Momentum of Rotating Systems
        </p>
    </div>

    <!-- ================ æ ¸å¿ƒæ¦‚å¿µä¸å…¬å¼ ================ -->
    <div class="my-8">
        <h2>ğŸ”‘ è½¬åŠ¨èƒ½é‡ (Rotational Energy)</h2>

        <div class="grid-2 mb-4">
            <!-- 1. è½¬åŠ¨åŠ¨èƒ½ -->
            <div class="concept-card">
                <h3 class="text2xl">1. Rotational Kinetic Energy</h3>
                <p>Energy associated with rotational motion.</p>
                <ul class="list-disc list-inside mt-2 text-sm text-gray-500">
                    <li>I = moment of inertia (kgÂ·mÂ²)</li>
                    <li>Ï‰ = angular velocity (rad/s)</li>
                    <li>Analogous to linear KE = Â½mvÂ²</li>
                    <li>Depends on mass distribution</li>
                </ul>
                <div class="formula">\( K_{rot} = \frac{1}{2} I \omega^2 \)</div>
            </div>

            <!-- 2. æ€»æœºæ¢°èƒ½ -->
            <div class="concept-card">
                <h3 class="text2xl">2. Total Mechanical Energy</h3>
                <p>For rolling objects, combine translational and rotational energy.</p>
                <ul class="list-disc list-inside mt-2 text-sm text-gray-500">
                    <li>v_cm = velocity of center of mass</li>
                    <li>For rolling: v_cm = Ï‰r (no slipping)</li>
                    <li>Both types of KE must be considered</li>
                    <li>PE unchanged by rotation</li>
                </ul>
                <div class="formula">\( E_{total} = \frac{1}{2}mv_{cm}^2 + \frac{1}{2}I\omega^2 + PE \)</div>
            </div>
        </div>

        <h2>ğŸ¯ è§’åŠ¨é‡ (Angular Momentum)</h2>
        <div class="grid-3 mb-4">
            <!-- 3. è§’åŠ¨é‡å®šä¹‰ -->
            <div class="concept-card">
                <h3 class="text2xl">3. Angular Momentum (L)</h3>
                <p>Rotational analog of linear momentum.</p>
                <ul class="list-disc list-inside mt-2 text-sm text-gray-500">
                    <li>Unit: kgÂ·mÂ²/s</li>
                    <li>Vector quantity (direction: right-hand rule)</li>
                    <li>L âˆ Ï‰ (if I is constant)</li>
                    <li>For point mass: L = mvr (when v âŠ¥ r)</li>
                </ul>
                <div class="formula">\( L = I \omega \)</div>
            </div>

            <!-- 4. è§’åŠ¨é‡å®ˆæ’ -->
            <div class="concept-card">
                <h3 class="text2xl">4. Conservation of Angular Momentum</h3>
                <p>When net external torque is zero, L is conserved.</p>
                <ul class="list-disc list-inside mt-2 text-sm text-gray-500">
                    <li>Ï„_ext = 0 â†’ L = constant</li>
                    <li>If I decreases â†’ Ï‰ increases</li>
                    <li>Examples: ice skater, diver, planets</li>
                    <li>Internal forces don't change L</li>
                </ul>
                <div class="formula">\( I_1 \omega_1 = I_2 \omega_2 \)</div>
            </div>

            <!-- 5. è§’å†²é‡ -->
            <div class="concept-card">
                <h3 class="text2xl">5. Angular Impulse</h3>
                <p>Change in angular momentum equals angular impulse.</p>
                <ul class="list-disc list-inside mt-2 text-sm text-gray-500">
                    <li>Ï„ = net torque</li>
                    <li>Î”t = time interval</li>
                    <li>Analogous to J = FÎ”t</li>
                    <li>Used in collision problems</li>
                </ul>
                <div class="formula">\( \Delta L = \tau \Delta t \)</div>

                <div class="formula">\( \tau = \frac{\Delta L}{\Delta t} = \frac{I \Delta \omega}{\Delta t} = I \alpha \)</div>

            </div>
        </div>

        <h2>âš¡ åŠŸå’ŒåŠŸç‡ (Work and Power)</h2>
        <div class="grid-2 mb-4">
            <!-- 6. è½¬åŠ¨åŠŸ -->
            <div class="concept-card">
                <h3 class="text2xl">6. Rotational Work</h3>
                <p>Work done by torque causes change in rotational KE.</p>
                <ul class="list-disc list-inside mt-2 text-sm text-gray-500">
                    <li>Î¸ = angular displacement (radians)</li>
                    <li>Work-Energy theorem for rotation</li>
                    <li>Analogous to W = Fd</li>
                    <li>Can be positive or negative</li>
                </ul>
                <div class="formula">\( W = \tau \Delta \theta = \Delta K_{rot} \)</div>
            </div>

            <!-- 7. è½¬åŠ¨åŠŸç‡ -->
            <div class="concept-card">
                <h3 class="text2xl">7. Rotational Power</h3>
                <p>Rate of doing rotational work.</p>
                <ul class="list-disc list-inside mt-2 text-sm text-gray-500">
                    <li>Unit: Watts (W)</li>
                    <li>Ï‰ must be in rad/s</li>
                    <li>Analogous to P = Fv</li>
                    <li>Important for engines, motors</li>
                </ul>
                <div class="formula">\( P = \tau \omega \)</div>
            </div>
        </div>


        <h2>ğŸ³ æ»šåŠ¨è¿åŠ¨ (Rolling Motion)</h2>
        <div class="grid-3 mb-4">
            <!-- Rolling without slipping -->
            <div class="concept-card">
                <h3 class="text2xl">8. Rolling Without Slipping</h3>
                <p>Constraint condition for pure rolling motion.</p>
                <ul class="list-disc list-inside mt-2 text-sm text-gray-500">
                    <li>v_cm = linear velocity of center of mass</li>
                    <li>Ï‰ = angular velocity</li>
                    <li>r = radius of rolling object</li>
                    <li>Bottom point momentarily at rest</li>
                </ul>
                <div class="formula">\( v_{cm} = \omega r \)</div>
            </div>

            <!-- Center of mass motion -->
            <div class="concept-card">
                <h3 class="text2xl">9. Center of Mass Position</h3>
                <p>The CM moves as if all mass is concentrated there.</p>
                <ul class="list-disc list-inside mt-2 text-sm text-gray-500">
                    <li>Î”x_cm = displacement of center of mass</li>
                    <li>Same as for point particle</li>
                    <li>Kinematics: vÂ² = vâ‚€Â² + 2aÂ·Î”x</li>
                    <li>For rolling: Î”x_cm = rÎ”Î¸</li>
                </ul>
                <div class="formula">\( \Delta x_{cm} = r \Delta \theta \)</div>
                <!--<div class="formula">\( \Delta x_{cm} = v_{cm}t + \frac{1}{2}a_{cm}t^2 \)</div>-->
            </div>

            <!-- Angular and linear acceleration -->
            <div class="concept-card">
                <h3 class="text2xl">10. Acceleration Relationship</h3>
                <p>For rolling without slipping, linear and angular accelerations are related.</p>
                <ul class="list-disc list-inside mt-2 text-sm text-gray-500">
                    <li>a_cm = linear acceleration of CM</li>
                    <li>Î± = angular acceleration</li>
                    <li>Taking derivative of v_cm = Ï‰r</li>
                    <li>Both measured about same axis</li>
                </ul>
                <div class="formula">\( a_{cm} = \alpha r \)</div>
            </div>
        </div>

        <h2>ğŸ›°ï¸ å«æ˜Ÿè½¨é“è¿åŠ¨ (Motion of Orbiting Satellites)</h2>

        <div class="grid-3 mb-4">

            <!-- Gravitational Force -->
            <div class="concept-card">
                <h3 class="text2xl">11. Universal Gravitation Force</h3>
                <p>Gravitational force between two masses.</p>
                <ul class="list-disc list-inside mt-2 text-sm text-gray-500">
                    <li>G = 6.674 Ã— 10â»Â¹Â¹ NÂ·mÂ²/kgÂ²</li>
                    <li>mâ‚, mâ‚‚ = masses of two objects</li>
                    <li>r = distance between centers</li>
                    <li>Always attractive (negative sign)</li>
                </ul>
                <div class="formula">\( F_g = -\frac{Gm_1m_2}{r^2} \)</div>
            </div>

            <!-- Gravitational Potential Energy -->
            <div class="concept-card">
                <h3 class="text2xl">12. Gravitational Potential Energy</h3>
                <p>Potential energy in gravitational field (general form).</p>
                <ul class="list-disc list-inside mt-2 text-sm text-gray-500">
                    <li>Zero reference at r = âˆ</li>
                    <li>Always negative (bound system)</li>
                    <li>Near Earth surface: PE â‰ˆ mgh (approximation)</li>
                    <li>Used for satellites and planetary motion</li>
                </ul>
                <div class="formula">\( U_g = -\frac{Gm_1m_2}{r} \)</div>
            </div>


            <!-- Orbital velocity -->
            <div class="concept-card">
                <h3 class="text2xl">11. Orbital Velocity</h3>
                <p>For circular orbit, gravitational force provides centripetal force.</p>
                <ul class="list-disc list-inside mt-2 text-sm text-gray-500">
                    <li>M = mass of central body (e.g., Earth)</li>
                    <li>r = orbital radius from center</li>
                    <li>v decreases as r increases</li>
                    <li>Independent of satellite mass</li>
                </ul>
                <div class="formula">\( v = \sqrt{\frac{GM}{r}} \)</div>
            </div>

            


        </div>




        <h2>ğŸ›°ï¸ å«æ˜Ÿè½¨é“è¿åŠ¨ (Motion of Orbiting Satellites) ADV-APè€ƒè¯•åº”è¯¥ä¸è€ƒå§ï¼Œä¸æƒ³çŸ¥é“å°±ç®—äº†</h2>
        <div class="grid-3 mb-4">
            
            
            <!-- Orbital period -->
            <div class="concept-card_adv">
                <h3 class="text2xl">12. Orbital Period (Kepler's 3rd Law)</h3>
                <p>Period squared is proportional to radius cubed.</p>
                <ul class="list-disc list-inside mt-2 text-sm text-gray-500">
                    <li>T = orbital period (time for one orbit)</li>
                    <li>TÂ² âˆ rÂ³ (Kepler's Third Law)</li>
                    <li>Larger orbit â†’ longer period</li>
                    <li>For Earth orbit: r includes Earth's radius</li>
                </ul>
                <div class="formula">\( T = 2\pi\sqrt{\frac{r^3}{GM}} \)</div>
            </div>



            <!-- Orbital energy -->
            <div class="concept-card_adv">
                <h3 class="text2xl">13. Total Orbital Energy</h3>
                <p>Total mechanical energy of orbiting satellite.</p>
                <ul class="list-disc list-inside mt-2 text-sm text-gray-500">
                    <li>m = satellite mass</li>
                    <li>E is negative (bound orbit)</li>
                    <li>KE = Â½mvÂ² = GMm/(2r)</li>
                    <li>PE = -GMm/r (gravitational)</li>
                </ul>
                <div class="formula">\( E = -\frac{GMm}{2r} = \frac{1}{2}KE + PE \)</div>
            </div>

            <!-- Angular momentum of orbit -->
            <div class="concept-card_adv">
                <h3 class="text2xl">14. Orbital Angular Momentum</h3>
                <p>Satellite has angular momentum about central body.</p>
                <ul class="list-disc list-inside mt-2 text-sm text-gray-500">
                    <li>For circular orbit: L = mvr</li>
                    <li>Conserved (no external torque)</li>
                    <li>Direction: perpendicular to orbital plane</li>
                    <li>Explains why orbits are planar</li>
                </ul>
                <div class="formula">\( L = mvr = m\sqrt{GMr} \)</div>
            </div>
        </div>



    </div>

    <!-- ================ äº’åŠ¨æ¼”ç¤ºï¼šæ»šåŠ¨ä¸‹å¡ ================ -->
    <div class="my-8">
        <h2>ğŸ¢ äº’åŠ¨æ¼”ç¤ºï¼šæ»šåŠ¨ä¸‹å¡ (Rolling Down Incline)</h2>
        <div class="grid-2 mb-4">
            <div class="card">
                <h3 style="color: var(--primary-color); font-weight: 600; margin-bottom: 15px;">å‚æ•°è®¾ç½®</h3>
                
                <div class="control-group">
                    <label>ç‰©ä½“ç±»å‹ï¼š</label>
                    <select id="objectType" style="width: 100%; padding: 8px; border-radius: 6px; border: 1px solid #ddd;">
                        <option value="solid_sphere">å®å¿ƒçƒ (I = 2/5 mrÂ²)</option>
                        <option value="hollow_sphere">ç©ºå¿ƒçƒ (I = 2/3 mrÂ²)</option>
                        <!--<option value="solid_cylinder">å®å¿ƒåœ†æŸ± (I = 1/2 mrÂ²)</option>-->
                        <!--<option value="hollow_cylinder">ç©ºå¿ƒåœ†æŸ± (I = mrÂ²)</option>-->
                    </select>
                </div>
                
                <div class="control-group">
                    <label>æ–œå¡è§’åº¦: <span id="inclineAngleValue">30</span>Â°</label>
                    <input type="range" id="inclineAngleSlider" min="10" max="60" step="5" value="30">
                </div>
                
                <div class="control-group">
                    <label>è´¨é‡ (m): <span id="massValue">2.0</span> kg</label>
                    <input type="range" id="massSlider" min="0.5" max="5" step="0.5" value="2">
                </div>
                
                <div class="control-group">
                    <label>åŠå¾„ (r): <span id="radiusValue">0.2</span> m</label>
                    <input type="range" id="radiusSlider" min="0.1" max="0.5" step="0.05" value="0.2">
                </div>
                
                <div class="control-group">
                    <label>æ–œå¡é«˜åº¦ (h): <span id="heightValue">3.0</span> m</label>
                    <input type="range" id="heightSlider" min="1" max="5" step="0.5" value="3">
                </div>
                
                <div class="info-display">
                    <div style="margin-bottom: 8px;">
                        <strong>è½¬åŠ¨æƒ¯é‡ (I):</strong> <span id="momentInertia">0</span> kgÂ·mÂ²
                    </div>
                    <div style="margin-bottom: 8px;">
                        <strong>åˆå§‹åŠ¿èƒ½ (PE):</strong> <span id="initialPE">0</span> J
                    </div>
                    <div style="margin-bottom: 8px;">
                        <strong>å¹³åŠ¨åŠ¨èƒ½:</strong> <span id="translationalKE">0</span> J
                    </div>
                    <div style="margin-bottom: 8px;">
                        <strong>è½¬åŠ¨åŠ¨èƒ½:</strong> <span id="rotationalKE">0</span> J
                    </div>
                    <div style="font-size: 1.2rem; color: var(--primary-color); margin-top: 10px;">
                        <strong>åº•éƒ¨é€Ÿåº¦:</strong> <span id="finalVelocity">0</span> m/s
                    </div>
                </div>
                
                <button class="btn-reset" id="startRolling">â–¶ï¸ å¼€å§‹æ»šåŠ¨</button>
                <button class="btn-reset" id="resetRolling">ğŸ”„ é‡ç½®</button>
            </div>
            
            <div>
                <canvas id="rollingCanvas" width="500" height="500"></canvas>
            </div>
        </div>
        
        <div class="card" style="margin-top: 20px;">
            <h3 style="color: var(--primary-color); margin-bottom: 10px;">èƒ½é‡å®ˆæ’åˆ†æ</h3>
            <p>ä»é«˜åº¦hæ»šä¸‹æ—¶ï¼Œåˆå§‹åŠ¿èƒ½è½¬åŒ–ä¸ºå¹³åŠ¨åŠ¨èƒ½å’Œè½¬åŠ¨åŠ¨èƒ½ï¼š</p>
            <div style="text-align: center; font-size: 1.1rem; margin: 15px 0; color: var(--secondary-color);">
                \( mgh = \frac{1}{2}mv^2 + \frac{1}{2}I\omega^2 \)
            </div>
            <p>ç”±äºæ— æ»‘åŠ¨æ¡ä»¶ \(v = \omega r\)ï¼Œå¯ä»¥è§£å‡ºåº•éƒ¨é€Ÿåº¦ï¼š</p>
            <div style="text-align: center; font-size: 1.1rem; margin: 15px 0; color: var(--secondary-color);">
                \( v = \sqrt{\frac{2gh}{1 + \frac{I}{mr^2}}} \)
            </div>
            <p><strong>å…³é”®å‘ç°ï¼š</strong>åˆ°è¾¾åº•éƒ¨çš„é€Ÿåº¦ä¸è´¨é‡æ— å…³ï¼Œåªä¸å½¢çŠ¶ï¼ˆI/mrÂ²çš„æ¯”å€¼ï¼‰æœ‰å…³ï¼</p>
        </div>
    </div>

    <!-- ================ äº’åŠ¨æ¼”ç¤ºï¼šè§’åŠ¨é‡å®ˆæ’ ================ -->
    <div class="my-8">
        <h2>â­ äº’åŠ¨æ¼”ç¤ºï¼šè§’åŠ¨é‡å®ˆæ’ - æ—‹è½¬çš„æºœå†°è€… (Conservation Demo)</h2>
        <div class="grid-2 mb-4">
            <div class="card">
                <h3 style="color: var(--primary-color); font-weight: 600; margin-bottom: 15px;">æºœå†°è€…å‚æ•°</h3>
                
                <div class="control-group">
                    <label>åˆå§‹è½¬åŠ¨æƒ¯é‡ (Iâ‚): <span id="inertia1Value">5.0</span> kgÂ·mÂ²</label>
                    <input type="range" id="inertia1Slider" min="1" max="10" step="0.5" value="5">
                </div>
                
                <div class="control-group">
                    <label>åˆå§‹è§’é€Ÿåº¦ (Ï‰â‚): <span id="omega1Value">2.0</span> rad/s</label>
                    <input type="range" id="omega1Slider" min="0.5" max="5" step="0.5" value="2">
                </div>
                
                <div class="control-group">
                    <label>æœ€ç»ˆè½¬åŠ¨æƒ¯é‡ (Iâ‚‚): <span id="inertia2Value">1.0</span> kgÂ·mÂ²</label>
                    <input type="range" id="inertia2Slider" min="0.5" max="10" step="0.5" value="1">
                </div>
                
                <div class="info-display">
                    <div style="margin-bottom: 8px;">
                        <strong>åˆå§‹è§’åŠ¨é‡ (Lâ‚):</strong> <span id="angularMomentum1">0</span> kgÂ·mÂ²/s
                    </div>
                    <div style="margin-bottom: 8px;">
                        <strong>æœ€ç»ˆè§’åŠ¨é‡ (Lâ‚‚):</strong> <span id="angularMomentum2">0</span> kgÂ·mÂ²/s
                    </div>
                    <div style="margin-bottom: 8px;">
                        <strong>æœ€ç»ˆè§’é€Ÿåº¦ (Ï‰â‚‚):</strong> <span id="omega2Calculated">0</span> rad/s
                    </div>
                    <div style="margin-bottom: 8px;">
                        <strong>åˆå§‹è½¬åŠ¨åŠ¨èƒ½:</strong> <span id="initialRotKE">0</span> J
                    </div>
                    <div style="margin-bottom: 8px;">
                        <strong>æœ€ç»ˆè½¬åŠ¨åŠ¨èƒ½:</strong> <span id="finalRotKE">0</span> J
                    </div>
                    <div style="font-size: 1.1rem; color: var(--secondary-color); margin-top: 10px;">
                        <strong>èƒ½é‡å˜åŒ–:</strong> <span id="energyChange">0</span> J
                    </div>
                </div>
                
                <button class="btn-reset" id="animateConservation">ğŸ¬ æ’­æ”¾åŠ¨ç”»</button>
                
                <div style="background: #fff3cd; padding: 15px; border-radius: 8px; margin-top: 15px; font-size: 0.9rem;">
                    <strong>ç‰©ç†è§£é‡Šï¼š</strong><br>
                    â€¢ è§’åŠ¨é‡å®ˆæ’ï¼šLâ‚ = Lâ‚‚<br>
                    â€¢ æ”¶ç´§æ‰‹è‡‚ â†’ Iå‡å° â†’ Ï‰å¢å¤§<br>
                    â€¢ èƒ½é‡å¢åŠ æ¥è‡ªè‚Œè‚‰åšåŠŸï¼
                </div>
            </div>
            
            <div>
                <canvas id="conservationCanvas" width="500" height="500"></canvas>
            </div>
        </div>
    </div>

    <!-- ================ å¯¹æ¯”è¡¨æ ¼ ================ -->
    <div class="my-8">
        <h2>ğŸ“Š çº¿æ€§è¿åŠ¨ vs è½¬åŠ¨è¿åŠ¨å¯¹æ¯” (Linear vs Rotational)</h2>
        <div class="card">
            <table>
                <thead style="background: var(--primary-color); color: white;">
                    <tr>
                        <th>ç‰©ç†é‡</th>
                        <th>çº¿æ€§è¿åŠ¨</th>
                        <th>è½¬åŠ¨è¿åŠ¨</th>
                        <th>å…³ç³»</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>æƒ¯æ€§</strong></td>
                        <td>è´¨é‡ (m)</td>
                        <td>è½¬åŠ¨æƒ¯é‡ (I)</td>
                        <td>I = Î£mrÂ²</td>
                    </tr>
                    <tr>
                        <td><strong>è¿åŠ¨é‡</strong></td>
                        <td>åŠ¨é‡ p = mv</td>
                        <td>è§’åŠ¨é‡ L = IÏ‰</td>
                        <td>L = rp (ç‚¹è´¨é‡)</td>
                    </tr>
                    <tr>
                        <td><strong>åŠ¨èƒ½</strong></td>
                        <td>KE = Â½mvÂ²</td>
                        <td>KE_rot = Â½IÏ‰Â²</td>
                        <td>v = Ï‰r</td>
                    </tr>
                    <tr>
                        <td><strong>åŠ›/åŠ›çŸ©</strong></td>
                        <td>åŠ› (F)</td>
                        <td>åŠ›çŸ© (Ï„)</td>
                        <td>Ï„ = rF</td>
                    </tr>
                    <tr>
                        <td><strong>ç‰›é¡¿ç¬¬äºŒå®šå¾‹</strong></td>
                        <td>F = ma</td>
                        <td>Ï„ = IÎ±</td>
                        <td>Î± = a/r</td>
                    </tr>
                    <tr>
                        <td><strong>åŠŸ</strong></td>
                        <td>W = Fd</td>
                        <td>W = Ï„Î¸</td>
                        <td>d = rÎ¸</td>
                    </tr>
                    <tr>
                        <td><strong>åŠŸç‡</strong></td>
                        <td>P = Fv</td>
                        <td>P = Ï„Ï‰</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td><strong>å®ˆæ’å®šå¾‹</strong></td>
                        <td>på®ˆæ’ (F_ext=0)</td>
                        <td>Lå®ˆæ’ (Ï„_ext=0)</td>
                        <td>-</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <!-- ================ å¸¸è§è½¬åŠ¨æƒ¯é‡ ================ -->
    <div class="my-8">
        <h2>ğŸ“ å¸¸è§ç‰©ä½“çš„è½¬åŠ¨æƒ¯é‡ (Common Moments of Inertia)</h2>
        <div class="grid-2 mb-4">
            <div class="card">
                <h3 style="color: var(--primary-color); margin-bottom: 10px;">ç»•è´¨å¿ƒè½´</h3>
                <table>
                    <tr><td>ç‚¹è´¨é‡</td><td>\(I = mr^2\)</td></tr>
                    <tr><td>å®å¿ƒçƒ</td><td>\(I = \frac{2}{5}mr^2\)</td></tr>
                    <tr><td>ç©ºå¿ƒçƒï¼ˆè–„å£³ï¼‰</td><td>\(I = \frac{2}{3}mr^2\)</td></tr>
                    <tr><td>å®å¿ƒåœ†æŸ±/åœ†ç›˜</td><td>\(I = \frac{1}{2}mr^2\)</td></tr>
                    <tr><td>ç©ºå¿ƒåœ†æŸ±</td><td>\(I = mr^2\)</td></tr>
                    <tr><td>ç»†æ†ï¼ˆä¸­å¿ƒï¼‰</td><td>\(I = \frac{1}{12}mL^2\)</td></tr>
                    <tr><td>ç»†æ†ï¼ˆç«¯ç‚¹ï¼‰</td><td>\(I = \frac{1}{3}mL^2\)</td></tr>
                </table>
            </div>
            
            <div class="card">
                <h3 style="color: var(--primary-color); margin-bottom: 10px;">æ»šåŠ¨ç‰©ä½“çš„ k å› å­</h3>
                <p style="font-size: 0.9rem; margin-bottom: 10px;">
                    å¯¹äºæ»šåŠ¨ç‰©ä½“ï¼š\(v = \sqrt{\frac{2gh}{1+k}}\)ï¼Œå…¶ä¸­ \(k = \frac{I}{mr^2}\)
                </p>
                <table>
                    <tr><td>å®å¿ƒçƒ</td><td>k = 2/5</td><td>æœ€å¿« âš¡</td></tr>
                    <tr><td>å®å¿ƒåœ†æŸ±</td><td>k = 1/2</td><td>è¾ƒå¿«</td></tr>
                    <tr><td>ç©ºå¿ƒçƒ</td><td>k = 2/3</td><td>è¾ƒæ…¢</td></tr>
                    <tr><td>ç©ºå¿ƒåœ†æŸ±</td><td>k = 1</td><td>æœ€æ…¢ ğŸŒ</td></tr>
                </table>
                <p style="font-size: 0.85rem; color: #666; margin-top: 10px;">
                    æ³¨æ„ï¼šæ‰€æœ‰ç‰©ä½“çš„é€Ÿåº¦éƒ½ä¸è´¨é‡å’ŒåŠå¾„æ— å…³ï¼Œåªä¸å½¢çŠ¶æœ‰å…³ï¼
                </p>
            </div>
        </div>
    </div>

</div>

<script>
// ========== æ»šåŠ¨ä¸‹å¡æ¼”ç¤º ==========
const rollingCanvas = document.getElementById('rollingCanvas');
const rCtx = rollingCanvas.getContext('2d');

let objectType = 'solid_sphere';
let inclineAngle = 30;
let mass = 2.0;
let radius = 0.2;
let height = 3.0;
let isRolling = false;
let rollProgress = 0;
const g = 9.8;

// Moment of inertia factors
const inertiaFactors = {
    'solid_sphere': 0.4,        // 2/5
    'hollow_sphere': 0.667,     // 2/3
    'solid_cylinder': 0.5,      // 1/2
    'hollow_cylinder': 1.0      // 1
};

document.getElementById('objectType').addEventListener('change', (e) => {
    objectType = e.target.value;
    updateRollingCalculations();
});

document.getElementById('inclineAngleSlider').addEventListener('input', (e) => {
    inclineAngle = parseInt(e.target.value);
    document.getElementById('inclineAngleValue').textContent = inclineAngle;
    updateRollingCalculations();
});

document.getElementById('massSlider').addEventListener('input', (e) => {
    mass = parseFloat(e.target.value);
    document.getElementById('massValue').textContent = mass.toFixed(1);
    updateRollingCalculations();
});

document.getElementById('radiusSlider').addEventListener('input', (e) => {
    radius = parseFloat(e.target.value);
    document.getElementById('radiusValue').textContent = radius.toFixed(2);
    updateRollingCalculations();
});

document.getElementById('heightSlider').addEventListener('input', (e) => {
    height = parseFloat(e.target.value);
    document.getElementById('heightValue').textContent = height.toFixed(1);
    updateRollingCalculations();
});

document.getElementById('startRolling').addEventListener('click', () => {
    isRolling = true;
    rollProgress = 0;
});

document.getElementById('resetRolling').addEventListener('click', () => {
    isRolling = false;
    rollProgress = 0;
    drawRollingDiagram();
});

function updateRollingCalculations() {
    const k = inertiaFactors[objectType];
    const I = k * mass * radius * radius;
    const PE = mass * g * height;
    
    // Final velocity using energy conservation
    const vFinal = Math.sqrt((2 * g * height) / (1 + k));
    const omega = vFinal / radius;
    
    const translationalKE = 0.5 * mass * vFinal * vFinal;
    const rotationalKE = 0.5 * I * omega * omega;
    
    // Update display
    document.getElementById('momentInertia').textContent = I.toFixed(4);
    document.getElementById('initialPE').textContent = PE.toFixed(2);
    document.getElementById('translationalKE').textContent = translationalKE.toFixed(2);
    document.getElementById('rotationalKE').textContent = rotationalKE.toFixed(2);
    document.getElementById('finalVelocity').textContent = vFinal.toFixed(2);
    
    if (!isRolling) {
        drawRollingDiagram();
    }
}

function drawRollingDiagram() {
    rCtx.clearRect(0, 0, rollingCanvas.width, rollingCanvas.height);
    
    const angleRad = (inclineAngle * Math.PI) / 180;
    const inclineLength = 350;
    const inclineStartX = 50;
    const inclineStartY = 100;
    const inclineEndX = inclineStartX + inclineLength * Math.cos(angleRad);
    const inclineEndY = inclineStartY + inclineLength * Math.sin(angleRad);
    
    // Draw incline
    rCtx.strokeStyle = '#8B6914';
    rCtx.fillStyle = '#D4A574';
    rCtx.lineWidth = 2;
    rCtx.beginPath();
    rCtx.moveTo(inclineStartX, inclineStartY);
    rCtx.lineTo(inclineEndX, inclineEndY);
    rCtx.lineTo(inclineEndX, inclineStartY + inclineLength * Math.sin(angleRad) + 50);
    rCtx.lineTo(inclineStartX, inclineStartY + inclineLength * Math.sin(angleRad) + 50);
    rCtx.closePath();
    rCtx.fill();
    rCtx.stroke();
    
    // Draw ground
    rCtx.strokeStyle = '#333';
    rCtx.lineWidth = 3;
    rCtx.beginPath();
    rCtx.moveTo(inclineEndX - 50, inclineEndY);
    rCtx.lineTo(inclineEndX + 100, inclineEndY);
    rCtx.stroke();
    
    // Calculate object position
    const progress = isRolling ? rollProgress : 0;
    const displayRadius = radius * 100; // Scale for display
    
    // Contact point on the incline surface
    const contactX = inclineStartX + progress * inclineLength * Math.cos(angleRad);
    const contactY = inclineStartY + progress * inclineLength * Math.sin(angleRad);
    
    // Object center should be perpendicular to incline, ABOVE the surface
    // Perpendicular to incline means: rotate 90 degrees counterclockwise from incline direction
    // If incline direction is (cos(Î¸), sin(Î¸)), perpendicular UP is (-sin(Î¸), -cos(Î¸))
    const objX = contactX + displayRadius * Math.sin(angleRad);
    const objY = contactY - displayRadius * Math.cos(angleRad);
    
    // Draw contact point
    if (progress >= 0 && progress < 1) {
        rCtx.fillStyle = '#f44336';
        rCtx.beginPath();
        rCtx.arc(contactX, contactY, 4, 0, 2 * Math.PI);
        rCtx.fill();
    }
    
    // Draw object
    rCtx.save();
    rCtx.translate(objX, objY);
    
    // Different shapes for different objects
    if (objectType.includes('sphere')) {
        // Draw sphere
        rCtx.beginPath();
        rCtx.arc(0, 0, displayRadius, 0, 2 * Math.PI);
        rCtx.fillStyle = objectType === 'solid_sphere' ? '#4CAF50' : '#eeeeee';
        rCtx.fill();
        rCtx.strokeStyle = '#333';
        rCtx.lineWidth = 2;
        rCtx.stroke();
        
        // Draw rotation indicator line from center to edge
        const rotationAngle = -progress * inclineLength / radius; // negative for clockwise rotation
        rCtx.strokeStyle = '#fff';
        rCtx.lineWidth = 3;
        rCtx.beginPath();
        rCtx.moveTo(0, 0);
        rCtx.lineTo(displayRadius * Math.cos(rotationAngle), displayRadius * Math.sin(rotationAngle));
        rCtx.stroke();
        
        // Draw a small circle at the end of rotation indicator
        rCtx.fillStyle = '#fff';
        rCtx.beginPath();
        rCtx.arc(displayRadius * Math.cos(rotationAngle), displayRadius * Math.sin(rotationAngle), 3, 0, 2 * Math.PI);
        rCtx.fill();
        
    } else {
        // Draw cylinder (side view - rectangle with circles)
        rCtx.save();
        rCtx.rotate(-angleRad); // Align with incline
        
        rCtx.fillStyle = objectType === 'solid_cylinder' ? '#FF9800' : '#9C27B0';
        rCtx.fillRect(-displayRadius, -displayRadius * 0.3, displayRadius * 2, displayRadius * 0.6);
        rCtx.strokeStyle = '#333';
        rCtx.lineWidth = 2;
        rCtx.strokeRect(-displayRadius, -displayRadius * 0.3, displayRadius * 2, displayRadius * 0.6);
        
        // Draw circles on ends
        rCtx.beginPath();
        rCtx.arc(-displayRadius, 0, displayRadius * 0.3, 0, 2 * Math.PI);
        rCtx.stroke();
        rCtx.beginPath();
        rCtx.arc(displayRadius, 0, displayRadius * 0.3, 0, 2 * Math.PI);
        rCtx.stroke();
        
        // Draw rotation indicator
        const rotationAngle = -progress * inclineLength / radius;
        rCtx.strokeStyle = '#fff';
        rCtx.lineWidth = 3;
        rCtx.beginPath();
        rCtx.moveTo(0, 0);
        rCtx.lineTo(displayRadius * 0.8 * Math.cos(rotationAngle), displayRadius * 0.8 * Math.sin(rotationAngle));
        rCtx.stroke();
        
        rCtx.restore();
    }
    
    rCtx.restore();
    
    // Draw height indicator at start
    if (progress === 0) {
        const heightPixels = inclineLength * Math.sin(angleRad);
        rCtx.strokeStyle = '#f44336';
        rCtx.lineWidth = 2;
        rCtx.setLineDash([5, 5]);
        rCtx.beginPath();
        rCtx.moveTo(inclineStartX - 30, inclineStartY);
        rCtx.lineTo(inclineStartX - 30, inclineEndY);
        rCtx.stroke();
        rCtx.setLineDash([]);
        
        // Arrow heads
        rCtx.fillStyle = '#f44336';
        rCtx.beginPath();
        rCtx.moveTo(inclineStartX - 30, inclineStartY);
        rCtx.lineTo(inclineStartX - 35, inclineStartY + 10);
        rCtx.lineTo(inclineStartX - 25, inclineStartY + 10);
        rCtx.closePath();
        rCtx.fill();
        
        rCtx.beginPath();
        rCtx.moveTo(inclineStartX - 30, inclineEndY);
        rCtx.lineTo(inclineStartX - 35, inclineEndY - 10);
        rCtx.lineTo(inclineStartX - 25, inclineEndY - 10);
        rCtx.closePath();
        rCtx.fill();
        
        rCtx.fillStyle = '#f44336';
        rCtx.font = 'bold 14px Arial';
        rCtx.fillText(`h = ${height} m`, inclineStartX - 70, (inclineStartY + inclineEndY) / 2);
    }
    
    // Draw velocity arrow if rolling
    if (progress > 0 && progress < 1) {
        const k = inertiaFactors[objectType];
        const currentHeight = height * (1 - progress);
        const currentV = Math.sqrt((2 * g * (height - currentHeight)) / (1 + k));
        const arrowLength = currentV * 15;
        
        // Arrow starts from object center, points along incline
        rCtx.strokeStyle = '#2196F3';
        rCtx.fillStyle = '#2196F3';
        rCtx.lineWidth = 3;
        rCtx.beginPath();
        rCtx.moveTo(objX, objY);
        rCtx.lineTo(objX + arrowLength * Math.cos(angleRad), objY + arrowLength * Math.sin(angleRad));
        rCtx.stroke();
        
        // Arrow head
        const arrowAngle = angleRad;
        const arrowHeadX = objX + arrowLength * Math.cos(angleRad);
        const arrowHeadY = objY + arrowLength * Math.sin(angleRad);
        
        rCtx.beginPath();
        rCtx.moveTo(arrowHeadX, arrowHeadY);
        rCtx.lineTo(
            arrowHeadX - 10 * Math.cos(arrowAngle - Math.PI / 6),
            arrowHeadY - 10 * Math.sin(arrowAngle - Math.PI / 6)
        );
        rCtx.lineTo(
            arrowHeadX - 10 * Math.cos(arrowAngle + Math.PI / 6),
            arrowHeadY - 10 * Math.sin(arrowAngle + Math.PI / 6)
        );
        rCtx.closePath();
        rCtx.fill();
        
        rCtx.font = 'bold 14px Arial';
        rCtx.fillText(`v = ${currentV.toFixed(2)} m/s`, arrowHeadX + 10, arrowHeadY - 10);
    }
    
    // Labels
    rCtx.fillStyle = '#333';
    rCtx.font = 'bold 16px Arial';
    const objectNames = {
        'solid_sphere': 'å®å¿ƒçƒ',
        'hollow_sphere': 'ç©ºå¿ƒçƒ',
        'solid_cylinder': 'å®å¿ƒåœ†æŸ±',
        'hollow_cylinder': 'ç©ºå¿ƒåœ†æŸ±'
    };
    rCtx.fillText(objectNames[objectType], 20, 30);
    rCtx.fillText(`Î¸ = ${inclineAngle}Â°`, inclineStartX + 50, inclineStartY + 30);
}

function animateRolling() {
    if (isRolling) {
        rollProgress += 0.005;
        if (rollProgress >= 1) {
            rollProgress = 1;
            isRolling = false;
        }
        drawRollingDiagram();
    }
    requestAnimationFrame(animateRolling);
}

// ========== è§’åŠ¨é‡å®ˆæ’æ¼”ç¤º ==========
const conservationCanvas = document.getElementById('conservationCanvas');
const cCtx = conservationCanvas.getContext('2d');

let inertia1 = 5.0;
let omega1 = 2.0;
let inertia2 = 1.0;
let isAnimating = false;
let animationProgress = 0;

document.getElementById('inertia1Slider').addEventListener('input', (e) => {
    inertia1 = parseFloat(e.target.value);
    document.getElementById('inertia1Value').textContent = inertia1.toFixed(1);
    updateConservationCalculations();
});

document.getElementById('omega1Slider').addEventListener('input', (e) => {
    omega1 = parseFloat(e.target.value);
    document.getElementById('omega1Value').textContent = omega1.toFixed(1);
    updateConservationCalculations();
});

document.getElementById('inertia2Slider').addEventListener('input', (e) => {
    inertia2 = parseFloat(e.target.value);
    document.getElementById('inertia2Value').textContent = inertia2.toFixed(1);
    updateConservationCalculations();
});

document.getElementById('animateConservation').addEventListener('click', () => {
    isAnimating = true;
    animationProgress = 0;
});

function updateConservationCalculations() {
    const L1 = inertia1 * omega1;
    const omega2 = L1 / inertia2;
    const L2 = inertia2 * omega2;
    
    const KE1 = 0.5 * inertia1 * omega1 * omega1;
    const KE2 = 0.5 * inertia2 * omega2 * omega2;
    const deltaE = KE2 - KE1;
    
    document.getElementById('angularMomentum1').textContent = L1.toFixed(2);
    document.getElementById('angularMomentum2').textContent = L2.toFixed(2);
    document.getElementById('omega2Calculated').textContent = omega2.toFixed(2);
    document.getElementById('initialRotKE').textContent = KE1.toFixed(2);
    document.getElementById('finalRotKE').textContent = KE2.toFixed(2);
    document.getElementById('energyChange').textContent = deltaE.toFixed(2) + (deltaE > 0 ? ' (å¢åŠ )' : ' (å‡å°‘)');
    
    if (!isAnimating) {
        drawConservationDiagram();
    }
}

function drawConservationDiagram() {
    cCtx.clearRect(0, 0, conservationCanvas.width, conservationCanvas.height);
    
    const centerX = 250;
    const centerY = 250;
    
    // Interpolate between initial and final states
    const t = animationProgress;
    const currentI = inertia1 + (inertia2 - inertia1) * t;
    const L = inertia1 * omega1; // Conserved
    const currentOmega = L / currentI;
    
    // Draw skater (simplified stick figure)
    const armLength = Math.sqrt(currentI / 0.5) * 30; // Arms length proportional to I
    
    // Body
    cCtx.fillStyle = '#333';
    cCtx.beginPath();
    cCtx.arc(centerX, centerY - 40, 20, 0, 2 * Math.PI);
    cCtx.fill();
    
    cCtx.strokeStyle = '#333';
    cCtx.lineWidth = 8;
    cCtx.beginPath();
    cCtx.moveTo(centerX, centerY - 20);
    cCtx.lineTo(centerX, centerY + 30);
    cCtx.stroke();
    
    // Arms (rotating)
    const rotationAngle = currentOmega * 2 * Math.PI * (Date.now() % 10000) / 10000;
    
    cCtx.strokeStyle = '#2196F3';
    cCtx.lineWidth = 6;
    
    // Left arm
    cCtx.beginPath();
    cCtx.moveTo(centerX, centerY);
    cCtx.lineTo(
        centerX + armLength * Math.cos(rotationAngle),
        centerY + armLength * Math.sin(rotationAngle)
    );
    cCtx.stroke();
    
    // Right arm
    cCtx.beginPath();
    cCtx.moveTo(centerX, centerY);
    cCtx.lineTo(
        centerX - armLength * Math.cos(rotationAngle),
        centerY - armLength * Math.sin(rotationAngle)
    );
    cCtx.stroke();
    
    // Hands
    cCtx.fillStyle = '#FF9800';
    cCtx.beginPath();
    cCtx.arc(
        centerX + armLength * Math.cos(rotationAngle),
        centerY + armLength * Math.sin(rotationAngle),
        10, 0, 2 * Math.PI
    );
    cCtx.fill();
    
    cCtx.beginPath();
    cCtx.arc(
        centerX - armLength * Math.cos(rotationAngle),
        centerY - armLength * Math.sin(rotationAngle),
        10, 0, 2 * Math.PI
    );
    cCtx.fill();
    
    // Legs
    cCtx.strokeStyle = '#333';
    cCtx.lineWidth = 6;
    cCtx.beginPath();
    cCtx.moveTo(centerX, centerY + 30);
    cCtx.lineTo(centerX - 20, centerY + 70);
    cCtx.moveTo(centerX, centerY + 30);
    cCtx.lineTo(centerX + 20, centerY + 70);
    cCtx.stroke();
    
    // Draw rotation indicators (circular arrows)
    const numArrows = Math.ceil(currentOmega * 3);
    for (let i = 0; i < numArrows; i++) {
        const angle = (i / numArrows) * 2 * Math.PI + rotationAngle;
        const arrowRadius = armLength + 40;
        const x = centerX + arrowRadius * Math.cos(angle);
        const y = centerY + arrowRadius * Math.sin(angle);
        
        drawRotationArrow(x, y, angle, '#4CAF50');
    }
    
    // Display current values
    cCtx.fillStyle = '#333';
    cCtx.font = 'bold 18px Arial';
    cCtx.fillText(`I = ${currentI.toFixed(2)} kgÂ·mÂ²`, 20, 40);
    cCtx.fillText(`Ï‰ = ${currentOmega.toFixed(2)} rad/s`, 20, 65);
    cCtx.fillText(`L = ${L.toFixed(2)} kgÂ·mÂ²/s`, 20, 90);
    
    // State label
    if (t < 0.1) {
        cCtx.fillStyle = '#2196F3';
        cCtx.font = 'bold 24px Arial';
        cCtx.fillText('åˆå§‹çŠ¶æ€', centerX - 60, 450);
        cCtx.fillText('(æ‰‹è‡‚å±•å¼€)', centerX - 60, 475);
    } else if (t > 0.9) {
        cCtx.fillStyle = '#4CAF50';
        cCtx.font = 'bold 24px Arial';
        cCtx.fillText('æœ€ç»ˆçŠ¶æ€', centerX - 60, 450);
        cCtx.fillText('(æ‰‹è‡‚æ”¶ç´§)', centerX - 60, 475);
    } else {
        cCtx.fillStyle = '#FF9800';
        cCtx.font = 'bold 24px Arial';
        cCtx.fillText('è½¬æ¢ä¸­...', centerX - 50, 460);
    }
}

function drawRotationArrow(x, y, angle, color) {
    cCtx.strokeStyle = color;
    cCtx.fillStyle = color;
    cCtx.lineWidth = 2;
    
    const arrowSize = 8;
    
    // Arrow head (tangent to circle)
    cCtx.beginPath();
    cCtx.moveTo(x, y);
    cCtx.lineTo(
        x - arrowSize * Math.cos(angle - Math.PI / 2 - Math.PI / 6),
        y - arrowSize * Math.sin(angle - Math.PI / 2 - Math.PI / 6)
    );
    cCtx.lineTo(
        x - arrowSize * Math.cos(angle - Math.PI / 2 + Math.PI / 6),
        y - arrowSize * Math.sin(angle - Math.PI / 2 + Math.PI / 6)
    );
    cCtx.closePath();
    cCtx.fill();
}

function animateConservation() {
    if (isAnimating) {
        animationProgress += 0.01;
        if (animationProgress >= 1) {
            animationProgress = 1;
            setTimeout(() => {
                isAnimating = false;
                animationProgress = 0;
            }, 5000);
        }
    }
    drawConservationDiagram();
    requestAnimationFrame(animateConservation);
}

// Initialize
window.onload = function() {
    updateRollingCalculations();
    updateConservationCalculations();
    animateRolling();
    animateConservation();
};
</script>

</body>
</html>
